parameters:
  - name: azureSubscription
    type: string
  - name: name
    type: string
    default: checkSecret
  - name: condition

steps:
- task: AzurePowerShell@5
  displayName: 'Generate secret'
  name: ${{ parameters.name }}
  condition: ${{ parameters.condition }}
  inputs:
    azureSubscription: ${{ parameters.azureSubscription }}
    ScriptType: InlineScript
    FailOnStandardError: true
    azurePowerShellVersion: 'LatestVersion'
    Inline: |
      $SECRETVAULTNAME = "${{ parameters.vaultName }}"
      $SECRET_NAME = "${{ parameters.secretName }}"
      Write-Host "Key vault: $SECRETVAULTNAME"
      Write-Host "Secret name: $SECRET_NAME"


    