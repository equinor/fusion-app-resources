import { useState } from 'react';
import useEffectAsync from './useEffectAsync';
export default (invoke, dependencies) => {
    const [error, setError] = useState(null);
    const [isFeching, setIsFetching] = useState(false);
    const [data, setData] = useState(null);
    useEffectAsync(async (signal) => {
        setIsFetching(true);
        try {
            const result = await invoke(signal);
            setData(result);
            setError(null);
        }
        catch (error) {
            setError(error);
        }
        setIsFetching(false);
    }, dependencies);
    return [error, isFeching, data];
};
